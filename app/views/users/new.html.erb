<% provide(:title, 'Sign up') %>
<h1>Sign up</h1>
<div class="row">
  <div class="span6 offset3">
    <%= form_for(@user) do |f| %>
      <%= render 'shared/error_messages', object: f.object %>

      <%= f.label "Type" %>
      <%= f.select :type, User::TYPE, { :include_blank => true } %>

      <div id="shipping_company">
      <%= f.label :shipping_company_id, "Shipping Company" %>
      <%= select "user", "shipping_company_id", ShippingCompany.order(:name).all.collect {|p| [ p.name, p.id ] }, { :include_blank => true } %>
      </div>

      <div id="agent">
      <%= f.label :agent_id, "Agent/Supplier" %>
      <%= select "user", "agent_id", Agent.order(:name).all.collect {|p| [ p.name, p.id ] }, { :include_blank => true } %>
      </div>

      <%= f.label :name %>
      <%= f.text_field :name %>

      <%= f.label :email %>
      <%= f.text_field :email %>

      <%= f.label :password %>
      <%= f.password_field :password %>

      <%= f.label :password_confirmation, "Confirmation" %>
      <%= f.password_field :password_confirmation %>
      
      <%= f.submit "Create this account", class: "btn btn-large btn-primary" %>
    <% end %>
  </div>
</div>
